<!DOCTYPE html>
<html>

<head>
	<title>Admin Dashboard</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
	<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" />
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
		<div class="container">
			<a class="navbar-brand" href="{{ url_for('dashboard') }}">EventReg Admin</a>
			<div class="d-flex ms-auto">
				<a href="{{ url_for('admin_logout') }}" class="btn btn-outline-light btn-sm">Logout</a>
			</div>
		</div>
	</nav>

	<div class="container mt-5">
		<h2>Admin Dashboard</h2>

		<!-- Add Event Form -->
		<div class="card mb-4">
			<div class="card-body">
				<h4>Add New Event</h4>
				<form method="post">
					<input type="text" name="event_name" class="form-control mb-2" placeholder="Event Name" required>
					<input type="date" name="event_date" class="form-control mb-2" required>
					<input type="text" name="event_venue" class="form-control mb-2" placeholder="Venue" required>
					<textarea name="event_description" class="form-control mb-2" placeholder="Description"
						required></textarea>
					<button type="submit" class="btn btn-success">Add Event</button>
				</form>
			</div>
		</div>

		<!-- Events List -->
		<h4>Events</h4>
		<ul class="list-group">
			{% for e in events %}
			<li class="list-group-item d-flex justify-content-between align-items-center">
				<a href="{{ url_for('admin_event_detail', event_id=e.id) }}">{{ e.name }} ({{ e.date }})</a>
				<form method="post" action="{{ url_for('delete_event', event_id=e.id) }}" style="margin:0;">
					<button type="submit" class="btn btn-danger btn-sm"
						onclick="return confirm('Delete this event?')">Delete</button>
				</form>
			</li>
			{% else %}
			<li class="list-group-item">No events found.</li>
			{% endfor %}
		</ul>
	</div>
</body>

</html>