<!DOCTYPE html>
<html lang="en">

<head>
	<title>Admin Dashboard</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
		<div class="container">
			<a class="navbar-brand" href="{{ url_for('dashboard') }}">EventReg Admin</a>
			<div class="d-flex ms-auto">
				<a href="{{ url_for('admin_logout') }}" class="btn btn-outline-light btn-sm">Logout</a>
			</div>
		</div>
	</nav>

	<div class="container mt-5 pt-4">
		<h2 class="mb-4">Admin Dashboard</h2>

		<!-- Add Event Form -->
		<div class="card mb-4 shadow-sm rounded">
			<div class="card-body">
				<h4 class="mb-3">Add New Event</h4>
				<form method="post">
					<input type="text" name="event_name" class="form-control mb-3" placeholder="Event Name" required />
					<input type="date" name="event_date" class="form-control mb-3" required />
					<input type="text" name="event_venue" class="form-control mb-3" placeholder="Venue" required />
					<textarea name="event_description" class="form-control mb-3" placeholder="Description"
						required></textarea>
					<button type="submit" class="btn btn-success">Add Event</button>
				</form>
			</div>
		</div>

		<!-- Events List -->
		<h4>Events</h4>
		<ul class="list-group">
			{% for e in events %}
			<li class="list-group-item d-flex justify-content-between align-items-center">
				<div>
					<a href="{{ url_for('admin_event_detail', event_id=e.id) }}">{{ e.name }} ({{ e.date }})</a>
				</div>
				<div class="d-flex">
					<a href="{{ url_for('edit_event', event_id=e.id) }}" class="btn btn-warning btn-sm me-2">Edit</a>
					<form method="post" action="{{ url_for('delete_event', event_id=e.id) }}" class="m-0">
						<button type="submit" class="btn btn-danger btn-sm"
							onclick="return confirm('Delete this event?')">Delete</button>
					</form>
				</div>
			</li>
			{% else %}
			<li class="list-group-item">No events found.</li>
			{% endfor %}
		</ul>

	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>